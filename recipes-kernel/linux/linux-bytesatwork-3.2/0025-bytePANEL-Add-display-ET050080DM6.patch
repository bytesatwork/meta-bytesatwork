From f607c755388cb2106cdada815430b75b6f84f3a5 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Oliver=20St=C3=A4bler?= <oliver.staebler@bytesatwork.ch>
Date: Wed, 12 Feb 2014 19:47:47 +0100
Subject: [PATCH] bytePANEL: Add display ET050080DM6

---
 arch/arm/mach-omap2/board-am335x-bytepanel.c |    8 +++++++-
 drivers/video/Kconfig                        |    6 ++++++
 drivers/video/da8xx-fb.c                     |   14 ++++++++++++++
 3 files changed, 27 insertions(+), 1 deletion(-)

diff --git a/arch/arm/mach-omap2/board-am335x-bytepanel.c b/arch/arm/mach-omap2/board-am335x-bytepanel.c
index 3339630..02a0955 100644
--- a/arch/arm/mach-omap2/board-am335x-bytepanel.c
+++ b/arch/arm/mach-omap2/board-am335x-bytepanel.c
@@ -98,7 +98,13 @@ static struct lcd_ctrl_config lcd_cfg = {
 	.raster_order		= 0,
 };
 
-#if defined(CONFIG_LCD_ET070080DH6)
+#if defined(CONFIG_LCD_ET050080DM6)
+static struct da8xx_lcdc_platform_data lcdc_pdata = {
+	.manu_name		= "Emerging",
+	.controller_data	= &lcd_cfg,
+	.type			= "ET050080DM6",
+};
+#elif defined(CONFIG_LCD_ET070080DH6)
 static struct da8xx_lcdc_platform_data lcdc_pdata = {
 	.manu_name		= "Emerging",
 	.controller_data	= &lcd_cfg,
diff --git a/drivers/video/Kconfig b/drivers/video/Kconfig
index 2cc8898..7692415 100644
--- a/drivers/video/Kconfig
+++ b/drivers/video/Kconfig
@@ -2260,6 +2260,12 @@ choice
 	prompt "bytePANEL Display Type"
 	default LCD_ET070080DH6
 
+config LCD_ET050080DM6
+	bool "Emerging ET050080DM6 5\" (pRGB)"
+	select LCD_INVERSE_POL
+	help
+	  If you have an Emerging ET050080DM6 LCD Panel, say Y to enable its driver.
+
 config LCD_ET070080DH6
 	bool "Emerging ET070080DH6 (pRGB)"
 	select LCD_INVERSE_POL
diff --git a/drivers/video/da8xx-fb.c b/drivers/video/da8xx-fb.c
index 0db0960..23f1e33 100644
--- a/drivers/video/da8xx-fb.c
+++ b/drivers/video/da8xx-fb.c
@@ -290,6 +290,20 @@ static struct da8xx_panel known_lcd_panels[] = {
 		.pxl_clk = 9000000,
 		.invert_pxl_clk = 0,
 	},
+	/* Emering 5" */
+	{
+		.name = "ET050080DM6",
+		.width = 800,
+		.height = 480,
+		.hfp = 2,
+		.hbp = 214,
+		.hsw = 40,
+		.vfp = 8,
+		.vbp = 35,
+		.vsw = 2,
+		.pxl_clk = 33260000,
+		.invert_pxl_clk = 0,
+	},
 	/* Emerging ltt */
 	{
 		.name = "EMERGING",
-- 
1.7.10.4

