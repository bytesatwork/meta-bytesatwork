From e6c8590897808ea34f90ad897b84450a580a46c9 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Oliver=20St=C3=A4bler?= <oliver.staebler@bytesatwork.ch>
Date: Wed, 12 Feb 2014 16:46:16 +0100
Subject: [PATCH] bytePANEL: Add display ETML101000DH6

---
 arch/arm/mach-omap2/board-am335x-bytepanel.c |    6 ++++++
 drivers/video/Kconfig                        |    6 ++++++
 drivers/video/da8xx-fb.c                     |   21 ++++++++++++++++++---
 3 files changed, 30 insertions(+), 3 deletions(-)

diff --git a/arch/arm/mach-omap2/board-am335x-bytepanel.c b/arch/arm/mach-omap2/board-am335x-bytepanel.c
index e1c4652..3339630 100644
--- a/arch/arm/mach-omap2/board-am335x-bytepanel.c
+++ b/arch/arm/mach-omap2/board-am335x-bytepanel.c
@@ -104,6 +104,12 @@ static struct da8xx_lcdc_platform_data lcdc_pdata = {
 	.controller_data	= &lcd_cfg,
 	.type			= "EMERGING",
 };
+#elif defined(CONFIG_LCD_ETML101000DH6)
+static struct da8xx_lcdc_platform_data lcdc_pdata = {
+	.manu_name		= "Emerging",
+	.controller_data	= &lcd_cfg,
+	.type			= "ETML101000DH6",
+};
 #elif defined(CONFIG_LCD_DATAIMAGE)
 static struct da8xx_lcdc_platform_data lcdc_pdata = {
 	.manu_name		= "DataImage",
diff --git a/drivers/video/Kconfig b/drivers/video/Kconfig
index aee4244..2cc8898 100644
--- a/drivers/video/Kconfig
+++ b/drivers/video/Kconfig
@@ -2266,6 +2266,12 @@ config LCD_ET070080DH6
 	help
 	  If you have an Emerging ET070080DH6 LCD Panel, say Y to enable its driver.
 
+config LCD_ETML101000DH6
+	bool "Emerging ETML101000DH6 10.1\" (LVDS)"
+	select LCD_LVDS
+	help
+	  If you have an Emerging ETML101000DH6 LCD Panel, say Y to enable its driver.
+
 config LCD_DATAIMAGE
 	bool "Data Image 10.4\" (LVDS)"
 	select LCD_LVDS
diff --git a/drivers/video/da8xx-fb.c b/drivers/video/da8xx-fb.c
index 01a07da..0db0960 100644
--- a/drivers/video/da8xx-fb.c
+++ b/drivers/video/da8xx-fb.c
@@ -291,7 +291,7 @@ static struct da8xx_panel known_lcd_panels[] = {
 		.invert_pxl_clk = 0,
 	},
 	/* Emerging ltt */
-	[4] = {
+	{
 		.name = "EMERGING",
 		.width = 800,
 		.height = 480,
@@ -304,8 +304,23 @@ static struct da8xx_panel known_lcd_panels[] = {
 		.pxl_clk = 33260000,
 		.invert_pxl_clk = 0,
 	},
+	/* Emerging 10.1" */
+	{
+		.name = "ETML101000DH6",
+		.width = 1024,
+		.height = 600,
+		.hfp = 127,
+		.hbp = 127,
+		.hsw = 31,
+		.vfp = 35,
+		.vbp = 0,
+		.vsw = 0,
+		.pxl_clk = 51200000,
+		.invert_pxl_clk = 0,
+	},
+
 	/* Dataimage LVDS 10.4" */
-	[5] = {
+	{
 		.name = "DATA_IMAGE",
 		.width = 1024,
 		.height = 768,
@@ -319,7 +334,7 @@ static struct da8xx_panel known_lcd_panels[] = {
 		.invert_pxl_clk = 0,
 	},
 	/* CheFree CH70ILFL-001 LVDS */
-	[6] = {
+	{
 		.name = "CHEFREE",
 		.width = 1024,
 		.height = 600,
-- 
1.7.10.4

