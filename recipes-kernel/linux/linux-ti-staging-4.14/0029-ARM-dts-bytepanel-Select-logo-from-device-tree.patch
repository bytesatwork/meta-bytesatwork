From 21b0d066a0d7d60120fb25458da8f7eb97f81cb2 Mon Sep 17 00:00:00 2001
From: Daniel Ammann <daniel.ammann@bytesatwork.ch>
Date: Tue, 7 Aug 2018 12:06:21 +0200
Subject: [PATCH] ARM: dts: bytepanel: Select logo from device tree

---
 arch/arm/boot/dts/bytepanel-et070080dh6.dts | 4 ++++
 arch/arm/boot/dts/bytepanel-et10.dts        | 4 ++++
 arch/arm/configs/bytepanel_defconfig        | 1 +
 3 files changed, 9 insertions(+)

diff --git a/arch/arm/boot/dts/bytepanel-et070080dh6.dts b/arch/arm/boot/dts/bytepanel-et070080dh6.dts
index 55333c7c9ddb..82829f4def65 100644
--- a/arch/arm/boot/dts/bytepanel-et070080dh6.dts
+++ b/arch/arm/boot/dts/bytepanel-et070080dh6.dts
@@ -13,6 +13,10 @@
 	model = "bytePanel ET070080DH6";
 	compatible = "batw,bytepanel-et070080dh6", "batw,bytepanel", "batw,m2", "ti,am33xx";
 
+	chosen {
+		logo = "baw_800x480";
+	};
+
 	et070080dh6 {
 		compatible = "ti,tilcdc,panel";
 		status = "okay";
diff --git a/arch/arm/boot/dts/bytepanel-et10.dts b/arch/arm/boot/dts/bytepanel-et10.dts
index cae6568a3a4a..eaf21e4ba7e1 100644
--- a/arch/arm/boot/dts/bytepanel-et10.dts
+++ b/arch/arm/boot/dts/bytepanel-et10.dts
@@ -13,6 +13,10 @@
 	model = "bytePanel ETML101000DH";
 	compatible = "batw,bytepanel-etml101000dh", "batw,bytepanel", "batw,m2", "ti,am33xx";
 
+	chosen {
+		logo = "baw_1024x600";
+	};
+
 	panel {
 		compatible = "ti,tilcdc,panel";
 		pinctrl-names = "default";
diff --git a/arch/arm/configs/bytepanel_defconfig b/arch/arm/configs/bytepanel_defconfig
index d1c5d5544f5e..68655150e8b5 100644
--- a/arch/arm/configs/bytepanel_defconfig
+++ b/arch/arm/configs/bytepanel_defconfig
@@ -2471,6 +2471,7 @@ CONFIG_FRAMEBUFFER_CONSOLE=y
 CONFIG_FRAMEBUFFER_CONSOLE_DETECT_PRIMARY=y
 # CONFIG_FRAMEBUFFER_CONSOLE_ROTATION is not set
 CONFIG_LOGO=y
+CONFIG_LOGO_OF_SELECT=y
 # CONFIG_LOGO_LINUX_MONO is not set
 # CONFIG_LOGO_LINUX_VGA16 is not set
 CONFIG_LOGO_LINUX_CLUT224=y
-- 
2.11.0

